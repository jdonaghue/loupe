!function(a,b){function c(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(a,c)||(a[c]=b[c]);return a}function d(a,b){try{for(var d in b)Object.prototype.hasOwnProperty.call(a,d)||Object.defineProperty(a.prototype,d,{value:b[d]})}catch(e){c(a.prototype,b)}}function e(a,b){var c=0;for(var d in a){if(b(a[d],d,c)===!1)break;c++}}function f(a){return"function"==typeof a}function g(){}function h(a,b,c,d){return setInterval(function(){a.apply(c,b)},d||10)}function i(a,b){clearInterval(a),b&&b()}function j(a){return a}function k(a){switch(a){case"linear":return j}return j}function l(a,b){var c=b.stop-b.start,d=0,e=0,f=h(function(a,g){d=k(self.animate_method)(e/b.duration),m(a,g,b.start+c*d),e+=10,e>b.duration&&i(f,b.callback)},[a,b.prop,b.stop],null,10)}function m(a,b,c,d){d?a.setAttributeNS(d,b,c+""):a.setAttribute(b,c+"")}function n(a,b){var c=t.createElementNS(a,b.tag);for(var d in b)"tag"!=d&&m(c,d,b[d]);return c}function o(a){return a}function p(a){var b=[];a.analyzed_data.length>0?e(a.dom,function(){var c=[];e(a.analyzed_data,function(){var b=[];e(a.shapes,function(a){var c={};e(a,function(a,b){c[b]=a}),b.push(c)}),c.push(b)}),b.push(c)}):e(a.dom,function(){var c=[],d=[];e(a.shapes,function(a){var b={};e(a,function(a,c){b[c]=a}),d.push(b)}),c.push(d),b.push(c)}),a.queue=b}function q(a,b,c,d){var g;a.original={},e(a,function(b,c){a.original[c]=b}),e(c,function(c,e){g=r(a.tag),a[g[e]]=f(c)?c(a[g[e]],b,d):a[g[e]]*b})}function r(a){switch(a){case"circle":return w;case"rect":return x}}var s=a,t=b;t.documentElement;var u="http://www.w3.org/2000/svg",v="1.1";s.loupe=function(a){if(!(this instanceof loupe)){var b=new loupe;return b.query(a),b.shapes=[],b.queue=[],b.data_points=[],b.analyzed_data=[],b}},d(loupe,{sEngine:peppy?peppy.query:g,query:function(a,b){return this.dom=this.sEngine(a,b),this}}),d(loupe,{animate:function(a){var b=this;return b.animate_on=!0,b.animate_method="linear",b.animate_duration=200,a&&(b.animate_method=a.easing||"linear",b.animate_properties=a.props,b.animate_duration=a.duration||200),b}}),d(loupe,{data:function(a,b){var c=this;return c.data_points=b&&b.replace?a:c.data_points.concat(a),c.analyzed_data=o(c.data_points),c}}),d(loupe,{transform:function(a,b){var c=this;return p(c),e(c.queue,function(d){e(d,function(d,f,g){e(d,function(d){switch(a){case"linear":q(d,c.analyzed_data[g],b,g)}})})}),c}});var w={centerX:"cx",centerY:"cy",radius:"r",stroke:"stroke-width",strokeColor:"stroke",color:"fill"};d(loupe,{circle:function(a){var b=this,c={tag:"circle"};for(var d in a)c[w[d]]=a[d];return b.shapes.push(c),p(b),b}});var x={xOffset:"cx",yOffset:"cy",radius:"r",stroke:"stroke-width",strokeColor:"stroke",color:"fill"};d(loupe,{rect:function(a){var b=this,c={tag:"rect"};for(var d in a)c[x[d]]=a[d];return b.shapes.push(c),p(b),b}}),d(loupe,{draw:function(){var a=this;return e(a.queue,function(b,c,d){e(b,function(b){e(b,function(b){var c=a.dom[d],f=a.sEngine("svg",c)[0];if(f||(f=n(u,{tag:"svg",version:v}),c.appendChild(f)),a.animate_on){var g=n(u,b.original);f.appendChild(g),e(b,function(c,d){d in{cx:null,cy:null,r:null}&&l(g,{prop:d,start:b.original[d],stop:b[d],duration:a.animate_duration})})}else{var g=n(u,b);f.appendChild(g)}})})}),a}})}(window,document);
/*
//@ sourceMappingURL=dist/loupe.min.map
*/